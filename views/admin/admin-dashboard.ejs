<%- include('../partials/admin-header')%>
<section class="content-main">
  <div class="content-header">
    <div>
      <h2 class="content-title card-title">Dashboard</h2>
      <p>Whole data about business here</p>
    </div>
    <div>
      <a href="#" class="btn btn-primary"
        onclick="window.print()"><i class="text-muted material-icons md-post_add"></i>Create report</a
      >
    </div>
  </div>
  <div class="row">
    <div class="col-lg-4">
      <div class="card card-body mb-4">
        <article class="icontext">
          <span class="icon icon-sm rounded-circle bg-primary-light"
            ><i class="text-primary material-icons md-monetization_on"></i
          ></span>
          <div class="text">
            <h6 class="mb-1 card-title">Revenue</h6>
            <span>$<%=revenue%></span>
            <span class="text-sm"> Shipping fees are not included </span>
          </div>
        </article>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="card card-body mb-4">
        <article class="icontext">
          <span class="icon icon-sm rounded-circle bg-success-light"
            ><i class="text-success material-icons md-local_shipping"></i
          ></span>
          <div class="text">
            <h6 class="mb-1 card-title">Orders</h6>
            <span><%=orders.length%></span>
            <span class="text-sm"> Total orders </span>
          </div>
        </article>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="card card-body mb-4">
        <article class="icontext">
          <span class="icon icon-sm rounded-circle bg-warning-light"
            ><i class="text-warning material-icons md-qr_code"></i
          ></span>
          <div class="text">
            <h6 class="mb-1 card-title">Products</h6>
            <span><%=products.length%></span>
            <span class="text-sm"> In <%=categories.length%> Categories </span>
          </div>
        </article>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="card card-body mb-4">
        <article class="icontext">
          <span class="icon icon-sm rounded-circle bg-success-light"
            ><i class="text-success material-icons md-local_shipping"></i
          ></span>
          <div class="text">
            <h6 class="mb-1 card-title">Canceled</h6>
            <span><%=cancelledOrder.length%></span>
            <span class="text-sm"> Total Canceled orders </span>
          </div>
        </article>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="card card-body mb-4">
        <article class="icontext">
          <span class="icon icon-sm rounded-circle bg-success-light"
            ><i class="text-success material-icons md-local_shipping"></i
          ></span>
          <div class="text">
            <h6 class="mb-1 card-title">Returned</h6>
            <span><%=returnedOrder.length%></span>
            <span class="text-sm"> Total Returned orders </span>
          </div>
        </article>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="card card-body mb-4">
        <article class="icontext">
          <span class="icon icon-sm rounded-circle bg-success-light"
            ><i class="text-success material-icons md-local_shipping"></i
          ></span>
          <div class="text">
            <h6 class="mb-1 card-title">Delivered</h6>
            <span><%=deliveredOrder.length%></span>
            <span class="text-sm"> Total Delivered orders </span>
          </div>
        </article>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xl-8 col-lg-12">
      <div class="card mb-4">
        <article class="card-body">
          <h5 class="card-title">Sale statistics</h5>
          <!-- <canvas id="myChart" height="120px"></canvas> -->
          <canvas id="myChartNew" height="120px"></canvas>
        </article>
      </div>
    </div>
  </div>
  <input type="hidden" class="monthlySalesCounts" data-monthlySalesCounts='<%= JSON.stringify(monthlySalesCounts) %>'>
</section>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const monthlySalesCountsData = document.querySelector('.monthlySalesCounts').getAttribute('data-monthlySalesCounts');
  const monthlySalesCounts = JSON.parse(monthlySalesCountsData);
  const data = {
    labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
    datasets: [{
      label: 'Monthly Sales',
      data: [monthlySalesCounts[0], monthlySalesCounts[1], monthlySalesCounts[2], monthlySalesCounts[3], monthlySalesCounts[4], monthlySalesCounts[5], monthlySalesCounts[6], monthlySalesCounts[7], monthlySalesCounts[8], monthlySalesCounts[9], monthlySalesCounts[10], monthlySalesCounts[11]],
      backgroundColor: 'rgba(75, 192, 192, 0.2)',
      borderColor: 'rgba(75, 192, 192, 1)',
      borderWidth: 1
    }]
  };
  
  const ctx = document.getElementById('myChartNew').getContext('2d');
  
  const myChart = new Chart(ctx, {
    type: 'bar', 
    data: data,
    options: {
      scales: {
        y: {
          beginAtZero: true,
          // suggestedMin : 0,
          // suggestedMax : 100
        }
      }
    }
  });
  </script>
  
<%- include('../partials/admin-footer')%>