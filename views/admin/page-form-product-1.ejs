<%- include('../partials/admin-header')%>
        <section class="content-main">
            <div class="row">
                <div class="col-9">
                    <div class="content-header">
                        <h2 class="content-title">Add New Product</h2>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card mb-4">
                        <div class="card-header">
                            <h4>Basic</h4>
                        </div>
                        <div class="card-body">
                            <div id="error-message" class="alert-danger"></div>
                            <form method="post" action="/admin/admin_panel/add_products" enctype="multipart/form-data" id="productForm">
                                <div class="mb-4">
                                    <label for="product_name" class="form-label">Product #ID</label>
                                    <input type="number" placeholder="Type here" class="form-control" id="product_id" name="product_id">
                                </div>
                                <div class="mb-4">
                                    <label for="product_name" class="form-label">Product Name</label>
                                    <input type="text" placeholder="Type here" class="form-control" id="product_name" name="product_name">
                                </div>
                                <div class="mb-4">
                                    <label for="product_brand" class="form-label">Product Brand</label>
                                    <select class="form-select" name="product_brand">
                                        <% if (brands.length > 0) { %>
                                            <% for (let i = 0; i < brands.length; i++) { %>
                                                <option value="<%= brands[i].brandName %>"><%= brands[i].brandName %></option>
                                            <% } %>
                                        <% } else { %>
                                            <option value="">No Brands</option>
                                        <% } %>
                                    </select>
                                </div>                                
                                <div class="mb-4">
                                    <label class="form-label">Full description</label>
                                    <textarea placeholder="Type here" class="form-control" rows="4" name="product_description" id="product_description"></textarea>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="mb-4">
                                            <label class="form-label">Regular Price</label>
                                            <div class="row gx-2">
                                                <input placeholder="$" type="text" class="form-control" name="regular_price" id="regular_price">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="mb-4">
                                            <label class="form-label">Sales Price</label>
                                            <input placeholder="$" type="text" class="form-control" name="sales_price" id="sales_price">
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <label class="form-label">Units</label>
                                            <input placeholder="$" type="text" class="form-control" name="units" id="units">
                                    </div>
                                    <div class="mb-4">
                                        <label class="form-label">Operating System</label>
                                            <input placeholder="OS" type="text" class="form-control" name="operatingSystem" id="operatingSystem">
                                    </div>
                                    <div class="mb-4">
                                        <label class="form-label">Cellular Technology</label>
                                            <input placeholder="2G,3G,4G,5G" type="text" class="form-control" name="cellularTechnology" id="cellularTechnology">
                                    </div>
                                    <div class="col-lg-4">
                                        <label class="form-label">Internal Memory</label>
                                        <select class="form-select" name="internalMemory">
                                            <option > 32 </option>
                                            <option > 64 </option>
                                            <option > 128 </option>
                                            <option > 256 </option>
                                            <option > 512 </option>
                                            <option > 1024 </option>
                                        </select>
                                    </div>
                                    <div class="col-lg-4">
                                        <label class="form-label">RAM</label>
                                        <select class="form-select" name="ram">
                                            <option > 2 </option>
                                            <option > 4 </option>
                                            <option > 6 </option>
                                            <option > 8 </option>
                                            <option > 12 </option>
                                            <option > 16 </option>
                                            <option > 32 </option>
                                        </select>
                                    </div>
                                    <div class="col-lg-4">
                                        <label class="form-label">Screen Size</label>
                                        <select class="form-select" name="screenSize">
                                            <option > 5.8 </option>
                                            <option > 6.2 </option>
                                            <option > 6.4 </option>
                                        </select>
                                    </div>
                                    <div class="mb-4">
                                        <label class="form-label">Battery Capacity</label>
                                        <input placeholder="Mah" type="number" class="form-control" name="batteryCapacity" id="batteryCapacity">
                                    </div>
                                    <div class="mb-4">
                                        <label class="form-label">Processor</label>
                                        <input placeholder="Processor" type="text" class="form-control" name="processor" id="processor">
                                    </div>
                                
                                <div class="col-lg-4">
                                    <label class="form-label">Status</label>
                                    <select class="form-select" name="product_status">
                                        <option value=true> Active </option>
                                        <option value=false> Blocked </option>
                                    </select>
                                </div>
                                <div class="col-lg-4">
                                    <label class="form-label">Stock</label>
                                    <select class="form-select" name="stock">
                                        <option value=true> Yes </option>
                                        <option value=false> No </option>
                                    </select>
                                </div>
                                <div class="col-lg-4">
                                    <label class="form-label">Category</label>
                                    <select class="form-select" name="product_category">
                                        <% if (categories.length > 0) { %>
                                          <% for (let i = 0; i < categories.length; i++) { %>
                                            <option value="<%= categories[i].categoryName %>"><%= categories[i].categoryName %></option>
                                          <% } %>
                                        <% } else { %>
                                          <option value="">No Category</option>
                                        <% } %>
                                        </select>
                                </div>
                            </div>
                            </div>
                        </div> <!-- card end// -->
                        
                    </div>
                    <div class="col-lg-3">
                        <div class="card mb-4">
                            <div class="card-header">
                                <h4>Media</h4>
                            </div>
                            <div class="card-body">
                                <div class="input-upload">
                                    <img src="admin-assets/imgs/theme/upload.svg" alt="">
                                    <input class="form-control" type="file" name="product_images" multiple required>
                                </div>
                            </div>
                            <button class="btn btn-md rounded font-sm hover-up" type="submit">Publish</button>
                        </div> <!-- card end// -->
                    </div>
                </form>
            </div>
        </section> <!-- content-main end// -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        // Function to validate the form
        function validateForm() {
            // Reset any previous error messages
            $('#error-message').html('');
            
            // Get form input values
            var productId = $('#product_id').val()
            var productName = $('#product_name').val();
            var productBrand = $('#product_brand').val();
            var productDescription = $('#product_description').val();
            var regularPrice = $('#regular_price').val();
            var salesPrice = $('#sales_price').val();
            var units = $('#units').val();
            var operatingSystem = $('#operatingSystem').val();
            var cellularTechnology = $('#cellularTechnology').val();
            var batteryCapacity = $('#batteryCapacity').val();
            var processor = $('#processor').val();
            // Add validation rules here

            // Example: Check if product name is empty
            if (productId.trim() === '') {
                $('#error-message').html('Product ID is required.');
                return false; // Prevent form submission
            }
            if (productName.trim() === '') {
                $('#error-message').html('Product Name is required.');
                return false; // Prevent form submission
            }

            // Example: Check if product brand is selected
            if (productBrand === '') {
                $('#error-message').html('Product Brand is required.');
                return false; // Prevent form submission
            }
            if (productDescription.trim() === '') {
                $('#error-message').html('Product Description is required.');
                return false; // Prevent form submission
            }
            if (regularPrice.trim() === '') {
                $('#error-message').html('Product Regular Price is required.');
                return false; // Prevent form submission
            }
            if (salesPrice.trim() === '') {
                $('#error-message').html('Product Sale Price is required.');
                return false; // Prevent form submission
            }
            if (units.trim() === '') {
                $('#error-message').html('Product Units is required.');
                return false; // Prevent form submission
            }
            if (operatingSystem.trim() === '') {
                $('#error-message').html('Product Operating System is required.');
                return false; // Prevent form submission
            }
            if (cellularTechnology.trim() === '') {
                $('#error-message').html('Product Cellular Technology is required.');
                return false; // Prevent form submission
            }
            if (batteryCapacity.trim() === '') {
                $('#error-message').html('Product Battery Capacity is required.');
                return false; // Prevent form submission
            }
            if (processor.trim() === '') {
                $('#error-message').html('Product Processor is required.');
                return false; // Prevent form submission
            }

            // Add more validation rules for other fields as needed

            return true; // Form is valid, allow submission
        }

        // Form submit event
        $('#productForm').submit(function (e) {
            if (!validateForm()) {
                e.preventDefault(); // Prevent form submission if validation fails
            }
        });
    });
</script>
        <%- include('../partials/admin-footer')%>